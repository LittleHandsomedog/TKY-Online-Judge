(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3e2470ac"],{3835:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("06c5");function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,s,r=[],o=!0,i=!1;try{for(n=n.call(t);!(o=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);o=!0);}catch(t){i=!0,s=t}finally{try{o||null==n.return||n.return()}finally{if(i)throw s}}return r}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},4675:function(t,e,n){"use strict";n.r(e),n("a4d3"),n("e01a"),n("99af"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("a434"),n("b0c0"),n("d3b7"),n("07ac"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("1276");var a=n("3835"),s=(n("96cf"),n("1da1")),r=n("5530"),o=n("3228"),i=n("ffb0"),l=n("c32d"),c=n.n(l),u=(l=n("5880"),n("7aa9"));r={name:"CreateContest",components:{Editor:function(){return Promise.resolve().then(n.bind(null,"a956"))},RankBox:function(){return n.e("chunk-3ef84ff5").then(n.bind(null,"f5bc"))}},data:function(){return{title:"Create Contest",disableRuleType:!1,durationText:"",seal_rank_time:2,contest:{title:"",description:"",startTime:"",endTime:"",duration:0,type:0,pwd:"",sealRank:!1,sealRankTime:"",autoRealRank:!0,auth:0,openPrint:!1,rankShowName:"username",openAccountLimit:!1,openIpLimit:!1,allowEndSubmit:!1,accountLimitRule:"",advanceSubmit:!1,starAccount:[],oiRankScoreType:"Recent",awardType:0,awardConfigList:[{priority:1,name:"金牌",background:"#e6bf25",color:"#fff",num:10},{priority:2,name:"银牌",background:"#b4c0c7",color:"#fff",num:20},{priority:3,name:"铜牌",background:"#CD7F32",color:"#fff",num:30}],ipRanges:""},formRule:{prefix:"",suffix:"",number_from:0,number_to:10,extra_account:""},ipRanges:[{start:"",end:""}],starUserInput:"",inputVisible:!1}},mounted:function(){"admin-edit-contest"===this.$route.name?(this.title=this.$i18n.t("m.Edit_Contest"),this.disableRuleType=!0,this.getContestByCid()):(this.title=this.$i18n.t("m.Create_Contest"),this.disableRuleType=!1)},watch:{$route:function(){"admin-edit-contest"===this.$route.name?(this.title=this.$i18n.t("m.Edit_Contest"),this.disableRuleType=!0,this.getContestByCid()):(this.title=this.$i18n.t("m.Create_Contest"),this.disableRuleType=!1,this.contest={})}},computed:Object(r.a)({},Object(l.mapGetters)(["userInfo"])),methods:{getContestByCid:function(){var t=this;o.a.admin_getContest(this.$route.params.contestId).then((function(e){var n=e.data.data;t.contest=n,t.changeStrToipRanges(n.ipRanges),t.changeDuration();var a=c()(t.contest.endTime).subtract(1800,"seconds").toString();e=c()(t.contest.endTime).subtract(3600,"seconds").toString(),n=c()(t.contest.startTime).toString();switch(c()(t.contest.sealRankTime).toString()){case a:t.seal_rank_time=0;break;case e:t.seal_rank_time=1;break;case n:t.seal_rank_time=2}t.contest.accountLimitRule&&(t.formRule=t.changeStrToAccountRule(t.contest.accountLimitRule))})).catch((function(){}))},saveContest:function(){var t=this;if(this.contest.title)if(this.contest.description)if(this.contest.startTime)if(this.contest.endTime)if(!this.contest.duration||this.contest.duration<=0)u.a.error(this.$i18n.t("m.Contest_Duration_Check"));else if(0==this.contest.auth||this.contest.pwd){this.contest.openAccountLimit&&(this.contest.accountLimitRule=this.changeAccountRuleToStr(this.formRule)),this.contest.openIpLimit?this.contest.ipRanges=this.changeipRangesToStr():this.contest.ipRanges="";var e="admin-edit-contest"===this.$route.name?"admin_editContest":"admin_createContest";switch(this.seal_rank_time){case 0:this.contest.sealRankTime=c()(this.contest.endTime).subtract(1800,"seconds");break;case 1:this.contest.sealRankTime=c()(this.contest.endTime).subtract(3600,"seconds");break;case 2:this.contest.sealRankTime=c()(this.contest.startTime)}var n=Object.assign({},this.contest);"admin_createContest"==e&&(n.uid=this.userInfo.uid,n.author=this.userInfo.username),o.a[e](n).then((function(e){u.a.success("success"),t.$router.push({name:"admin-contest-list",query:{refresh:"true"}})})).catch((function(){}))}else u.a.error(this.$i18n.t("m.Contest_Password")+" "+this.$i18n.t("m.is_required"));else u.a.error(this.$i18n.t("m.Contest_End_Time")+" "+this.$i18n.t("m.is_required"));else u.a.error(this.$i18n.t("m.Contest_Start_Time")+" "+this.$i18n.t("m.is_required"));else u.a.error(this.$i18n.t("m.Contest_Description")+" "+this.$i18n.t("m.is_required"));else u.a.error(this.$i18n.t("m.Contest_Title")+" "+this.$i18n.t("m.is_required"))},changeDuration:function(){var t=this.contest.startTime,e=this.contest.endTime,n=i.a.durationMs(t,e);if(n<0)return this.durationText=this.$i18n.t("m.Contets_Time_Check"),void(this.contest.duration=0);""!=t&&""!=e&&(this.durationText=i.a.formatSpecificDuration(t,e),this.contest.duration=n)},changeAccountRuleToStr:function(t){return"<prefix>"+t.prefix+"</prefix><suffix>"+t.suffix+"</suffix><start>"+t.number_from+"</start><end>"+t.number_to+"</end><extra>"+t.extra_account+"</extra>"},changeStrToAccountRule:function(t){return t=RegExp("<prefix>([\\s\\S]*?)</prefix><suffix>([\\s\\S]*?)</suffix><start>([\\s\\S]*?)</start><end>([\\s\\S]*?)</end><extra>([\\s\\S]*?)</extra>","g").exec(t),{prefix:t[1],suffix:t[2],number_from:t[3],number_to:t[4],extra_account:t[5]}},addStarUser:function(){if(this.starUserInput=this.starUserInput.replace(/(^\s*)|(\s*$)/g,""),this.starUserInput){for(var t=0;t<this.contest.starAccount.length;t++)if(this.contest.starAccount[t]==this.starUserInput)return u.a.warning(this.$i18n.t("m.Add_Star_User_Error")),void(this.starUserInput="");this.contest.starAccount.push(this.starUserInput),this.inputVisible=!1,this.starUserInput=""}},removeStarUser:function(t){this.contest.starAccount.splice(this.contest.starAccount.map((function(t){return t.name})).indexOf(t),1)},setSealRankTimeDefaultValue:function(){1==this.contest.sealRank&&(0!=this.contest.type||this.contest.duration<3600?this.seal_rank_time=2:this.seal_rank_time=1)},contestAwardTypeChange:function(){0==this.contest.awardType||this.contest.awardConfigList.length||(this.contest.awardConfigList=[{priority:1,name:"金牌",background:"#e6bf25",color:"#fff",num:10},{priority:2,name:"银牌",background:"#b4c0c7",color:"#fff",num:20},{priority:3,name:"铜牌",background:"#CD7F32",color:"#fff",num:30}])},insertEvent:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={priority:e.contest.awardConfigList.length+1,name:"name",background:"#ededed",color:"#666",num:0},n.next=3,e.$refs.xAwardTable.insertAt(a,t);case 3:return s=n.sent,a=s.row,s=e.$refs.xAwardTable.getRecordset(),s=s.insertRecords,e.contest.awardConfigList=e.contest.awardConfigList.concat(s),n.next=9,e.$refs.xAwardTable.setActiveCell(a,"name");case 9:case"end":return n.stop()}}),n)})))()},removeEvent:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(t,e,n){return Object.values(t.concat(e).reduce((function(t,e){return t[e[n]]&&t[e[n]][n]===e[n]?delete t[e[n]]:t[e[n]]=e,t}),{}))},t.$refs.xAwardTable.removeCheckboxRow(),n=t.$refs.xAwardTable.getRemoveRecords(),t.contest.awardConfigList=a(t.contest.awardConfigList,n,"_XID");case 4:case"end":return e.stop()}}),e)})))()},editClosedEvent:function(t){var e=this,n=t.row,a=t.column,s=(t=this.$refs.xAwardTable,a.property);t.isUpdateByRow(n,s)&&setTimeout((function(){e.$refs.xAwardTable.reloadRow(n,null,s)}),300)},addIPRange:function(){this.ipRanges.push({start:"",end:""})},removeIPRange:function(t){t=this.ipRanges.indexOf(t),-1!==t&&this.ipRanges.splice(t,1)},changeipRangesToStr:function(){return this.ipRanges.map((function(t){return"".concat(t.start,",").concat(t.end)})).join(";")},changeStrToipRanges:function(t){t=t.split(";"),this.ipRanges=t.map((function(t){return t=t.split(","),t=Object(a.a)(t,2),{start:t[0],end:t[1]}}))}}},n("a5a0"),l=n("2877"),r=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view"},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"panel-title home-title"},[t._v(" "+t._s(t.title)+" ")])]),n("el-form",{attrs:{"label-position":"top"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Title"),required:""}},[n("el-input",{attrs:{placeholder:t.$t("m.Contest_Title")},model:{value:t.contest.title,callback:function(e){t.$set(t.contest,"title",e)},expression:"contest.title"}})],1)],1),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Description"),required:""}},[n("Editor",{attrs:{value:t.contest.description},on:{"update:value":function(e){return t.$set(t.contest,"description",e)}}})],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Start_Time"),required:""}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:t.$t("m.Contest_Start_Time")},on:{change:t.changeDuration},model:{value:t.contest.startTime,callback:function(e){t.$set(t.contest,"startTime",e)},expression:"contest.startTime"}})],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_End_Time"),required:""}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:t.$t("m.Contest_End_Time")},on:{change:t.changeDuration},model:{value:t.contest.endTime,callback:function(e){t.$set(t.contest,"endTime",e)},expression:"contest.endTime"}})],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Duration"),required:""}},[n("el-input",{attrs:{disabled:""},model:{value:t.durationText,callback:function(e){t.durationText=e},expression:"durationText"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Rule_Type"),required:""}},[n("el-radio",{staticClass:"radio",attrs:{label:0,disabled:t.disableRuleType},on:{change:t.setSealRankTimeDefaultValue},model:{value:t.contest.type,callback:function(e){t.$set(t.contest,"type",e)},expression:"contest.type"}},[t._v("ACM")]),n("el-radio",{staticClass:"radio",attrs:{label:1,disabled:t.disableRuleType},on:{change:t.setSealRankTimeDefaultValue},model:{value:t.contest.type,callback:function(e){t.$set(t.contest,"type",e)},expression:"contest.type"}},[t._v("OI")])],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.contest.type,expression:"contest.type == 1"}],attrs:{label:t.$t("m.OI_Rank_Score_Type")}},[n("el-radio",{staticClass:"radio",attrs:{label:"Recent"},model:{value:t.contest.oiRankScoreType,callback:function(e){t.$set(t.contest,"oiRankScoreType",e)},expression:"contest.oiRankScoreType"}},[t._v(t._s(t.$t("m.OI_Rank_Score_Type_Recent")))]),n("el-radio",{staticClass:"radio",attrs:{label:"Highest"},model:{value:t.contest.oiRankScoreType,callback:function(e){t.$set(t.contest,"oiRankScoreType",e)},expression:"contest.oiRankScoreType"}},[t._v(t._s(t.$t("m.OI_Rank_Score_Type_Highest")))])],1)],1)],1),n("el-row",[t.contest.sealRank?n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Timeliness_Of_Rank"),required:""}},[n("el-switch",{attrs:{"active-color":"#13ce66","active-text":t.$t("m.Seal_Time_Rank"),"inactive-text":t.$t("m.Real_Time_Rank")},model:{value:t.contest.sealRank,callback:function(e){t.$set(t.contest,"sealRank",e)},expression:"contest.sealRank"}})],1)],1):n("el-col",{attrs:{md:24,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Timeliness_Of_Rank"),required:""}},[n("el-switch",{attrs:{"active-color":"#13ce66","active-text":t.$t("m.Seal_Time_Rank"),"inactive-text":t.$t("m.Real_Time_Rank")},on:{change:t.setSealRankTimeDefaultValue},model:{value:t.contest.sealRank,callback:function(e){t.$set(t.contest,"sealRank",e)},expression:"contest.sealRank"}})],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.contest.sealRank,expression:"contest.sealRank"}],attrs:{label:t.$t("m.Seal_Rank_Time"),required:t.contest.sealRank}},[n("el-select",{model:{value:t.seal_rank_time,callback:function(e){t.seal_rank_time=e},expression:"seal_rank_time"}},[n("el-option",{attrs:{label:t.$t("m.Contest_Seal_Half_Hour"),value:0,disabled:t.contest.duration<1800}}),n("el-option",{attrs:{label:t.$t("m.Contest_Seal_An_Hour"),value:1,disabled:t.contest.duration<3600}}),n("el-option",{attrs:{label:t.$t("m.Contest_Seal_All_Hour"),value:2}})],1)],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.contest.sealRank,expression:"contest.sealRank"}],attrs:{label:t.$t("m.Auto_Real_Rank"),required:""}},[n("el-switch",{attrs:{"active-text":t.$t("m.Real_Rank_After_Contest"),"inactive-text":t.$t("m.Seal_Rank_After_Contest")},model:{value:t.contest.autoRealRank,callback:function(e){t.$set(t.contest,"autoRealRank",e)},expression:"contest.autoRealRank"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Outside_ScoreBoard"),required:""}},[n("el-switch",{attrs:{"active-text":t.$t("m.Open"),"inactive-text":t.$t("m.Close")},model:{value:t.contest.openRank,callback:function(e){t.$set(t.contest,"openRank",e)},expression:"contest.openRank"}})],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Allow_Submission_After_The_Contest_Ends"),required:""}},[n("el-switch",{attrs:{"active-text":t.$t("m.Open"),"inactive-text":t.$t("m.Close")},model:{value:t.contest.allowEndSubmit,callback:function(e){t.$set(t.contest,"allowEndSubmit",e)},expression:"contest.allowEndSubmit"}})],1)],1),n("el-col",{attrs:{md:8,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Print_Func"),required:""}},[n("el-switch",{attrs:{"active-text":t.$t("m.Support_Offline_Print"),"inactive-text":t.$t("m.Not_Support_Print")},model:{value:t.contest.openPrint,callback:function(e){t.$set(t.contest,"openPrint",e)},expression:"contest.openPrint"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:t.$t("m.Rank_Show_Name"),required:""}},[n("el-radio-group",{model:{value:t.contest.rankShowName,callback:function(e){t.$set(t.contest,"rankShowName",e)},expression:"contest.rankShowName"}},[n("el-radio",{attrs:{label:"username"}},[t._v(t._s(t.$t("m.Show_Username")))]),n("el-radio",{attrs:{label:"nickname"}},[t._v(t._s(t.$t("m.Show_Nickname")))]),n("el-radio",{attrs:{label:"realname"}},[t._v(t._s(t.$t("m.Show_Realname")))])],1)],1)],1),n("el-col",[n("el-form-item",{attrs:{label:t.$t("m.Star_User_UserName"),required:""}},[t._l(t.contest.starAccount,(function(e){return n("el-tag",{key:e,staticStyle:{"margin-right":"7px","margin-top":"4px"},attrs:{closable:"","close-transition":!1,type:"warning",size:"medium"},on:{close:function(n){return t.removeStarUser(e)}}},[t._v(t._s(e))])})),t.inputVisible?n("el-input",{staticClass:"input-new-star-user",attrs:{size:"medium","trigger-on-focus":!0},on:{blur:t.addStarUser},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addStarUser(e)}},model:{value:t.starUserInput,callback:function(e){t.starUserInput=e},expression:"starUserInput"}}):n("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Add"),placement:"top"}},[n("el-button",{staticClass:"button-new-tag",attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(e){t.inputVisible=!0}}})],1)],2)],1),n("el-col",{attrs:{lg:6,md:12,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Auth"),required:""}},[n("el-select",{model:{value:t.contest.auth,callback:function(e){t.$set(t.contest,"auth",e)},expression:"contest.auth"}},[n("el-option",{attrs:{label:t.$t("m.Public"),value:0}}),n("el-option",{attrs:{label:t.$t("m.Private"),value:1}}),n("el-option",{attrs:{label:t.$t("m.Protected"),value:2}})],1)],1)],1),n("el-col",{attrs:{lg:6,md:12,xs:24}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=t.contest.auth,expression:"contest.auth != 0"}],attrs:{label:t.$t("m.Contest_Password"),required:0!=t.contest.auth}},[n("el-input",{staticStyle:{width:"217px"},attrs:{placeholder:t.$t("m.Contest_Password")},model:{value:t.contest.pwd,callback:function(e){t.$set(t.contest,"pwd",e)},expression:"contest.pwd"}})],1)],1),n("el-col",{attrs:{lg:6,md:8,xs:24}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=t.contest.auth,expression:"contest.auth != 0"}],attrs:{label:t.$t("m.Account_Limit"),required:0!=t.contest.auth}},[n("el-switch",{model:{value:t.contest.openAccountLimit,callback:function(e){t.$set(t.contest,"openAccountLimit",e)},expression:"contest.openAccountLimit"}})],1)],1),n("el-col",{attrs:{lg:3,md:8,xs:24}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=t.contest.auth,expression:"contest.auth != 0"}],attrs:{label:t.$t("m.IP_Limit"),required:0!=t.contest.auth}},[n("el-switch",{model:{value:t.contest.openIpLimit,callback:function(e){t.$set(t.contest,"openIpLimit",e)},expression:"contest.openIpLimit"}})],1)],1),n("el-col",{attrs:{lg:3,md:8,xs:24}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=t.contest.auth,expression:"contest.auth != 0"}],attrs:{label:t.$t("m.Advance_Submit"),required:0!=t.contest.auth}},[n("el-switch",{model:{value:t.contest.advanceSubmit,callback:function(e){t.$set(t.contest,"advanceSubmit",e)},expression:"contest.advanceSubmit"}})],1)],1),t.contest.openAccountLimit?[n("el-form",{attrs:{model:t.formRule}},[n("el-col",{attrs:{md:6,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Prefix"),prop:"prefix"}},[n("el-input",{attrs:{placeholder:"Prefix"},model:{value:t.formRule.prefix,callback:function(e){t.$set(t.formRule,"prefix",e)},expression:"formRule.prefix"}})],1)],1),n("el-col",{attrs:{md:6,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Suffix"),prop:"suffix"}},[n("el-input",{attrs:{placeholder:"Suffix"},model:{value:t.formRule.suffix,callback:function(e){t.$set(t.formRule,"suffix",e)},expression:"formRule.suffix"}})],1)],1),n("el-col",{attrs:{md:6,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Start_Number"),prop:"number_from"}},[n("el-input-number",{staticStyle:{width:"100%"},model:{value:t.formRule.number_from,callback:function(e){t.$set(t.formRule,"number_from",e)},expression:"formRule.number_from"}})],1)],1),n("el-col",{attrs:{md:6,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.End_Number"),prop:"number_to"}},[n("el-input-number",{staticStyle:{width:"100%"},model:{value:t.formRule.number_to,callback:function(e){t.$set(t.formRule,"number_to",e)},expression:"formRule.number_to"}})],1)],1),t.formRule.number_from<=t.formRule.number_to?n("div",{staticClass:"userPreview"},[t._v(" "+t._s(t.$t("m.The_allowed_account_will_be"))+" "+t._s(t.formRule.prefix+t.formRule.number_from+t.formRule.suffix)+", "),t.formRule.number_from+1<t.formRule.number_to?n("span",[t._v(" "+t._s(t.formRule.prefix+(t.formRule.number_from+1)+t.formRule.suffix+"...")+" ")]):t._e(),t.formRule.number_from+1<=t.formRule.number_to?n("span",[t._v(" "+t._s(t.formRule.prefix+t.formRule.number_to+t.formRule.suffix)+" ")]):t._e()]):t._e(),n("el-col",{attrs:{md:24,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Extra_Account"),prop:"prefix"}},[n("el-input",{attrs:{type:"textarea",placeholder:t.$t("m.Extra_Account_Tips"),rows:8},model:{value:t.formRule.extra_account,callback:function(e){t.$set(t.formRule,"extra_account",e)},expression:"formRule.extra_account"}})],1)],1)],1)]:t._e(),t.contest.openIpLimit?[n("el-col",{attrs:{md:24,xs:24}},[n("el-form-item",{staticStyle:{"margin-bottom":"-10px"},attrs:{label:t.$t("m.Allowed_IP_Ranges"),required:""}})],1),t._l(t.ipRanges,(function(e,a){return n("div",{key:a},[n("el-col",{attrs:{span:5}},[n("el-input",{staticStyle:{margin:"10px 0px"},attrs:{placeholder:t.$t("m.Start_Network")},model:{value:e.start,callback:function(n){t.$set(e,"start","string"==typeof n?n.trim():n)},expression:"range.start"}})],1),n("el-col",{attrs:{span:5}},[n("el-input",{staticStyle:{margin:"10px 15px"},attrs:{placeholder:t.$t("m.End_Network")},model:{value:e.end,callback:function(n){t.$set(e,"end","string"==typeof n?n.trim():n)},expression:"range.end"}})],1),n("el-col",{attrs:{span:10}},[n("el-button",{staticStyle:{margin:"10px 0px 10px 25px"},attrs:{plain:"",icon:"el-icon-plus"},on:{click:t.addIPRange}}),n("el-button",{attrs:{plain:"",icon:"el-icon-delete",disabled:1==t.ipRanges.length},on:{click:function(n){return t.removeIPRange(e)}}})],1)],1)}))]:t._e(),n("el-col",{attrs:{md:24,xs:24}},[n("el-form-item",{attrs:{label:t.$t("m.Contest_Award"),required:""}},[n("el-select",{on:{change:t.contestAwardTypeChange},model:{value:t.contest.awardType,callback:function(e){t.$set(t.contest,"awardType",e)},expression:"contest.awardType"}},[n("el-option",{attrs:{label:t.$t("m.Contest_Award_Null"),value:0}}),n("el-option",{attrs:{label:t.$t("m.Contest_Award_Set_Proportion"),value:1}}),n("el-option",{attrs:{label:t.$t("m.Contest_Award_Set_Number"),value:2}})],1)],1)],1),0!=t.contest.awardType?n("el-col",{attrs:{span:24}},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",size:"small"},on:{click:function(e){return t.insertEvent(-1)}}}),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(e){return t.removeEvent()}}})],1),n("vxe-table",{ref:"xAwardTable",staticStyle:{"margin-bottom":"15px"},attrs:{border:"",data:t.contest.awardConfigList,"edit-config":{trigger:"click",mode:"cell"},"sort-config":{trigger:"cell",defaultSort:{field:"priority",order:"asc"},orders:["desc","asc",null]},align:"center"},on:{"edit-closed":t.editClosedEvent}},[n("vxe-table-column",{attrs:{type:"checkbox",width:"60"}}),n("vxe-table-column",{attrs:{field:"priority",width:"100",title:t.$t("m.Contest_Award_Priority"),"edit-render":{name:"input",attrs:{type:"number"}},sortable:""}}),n("vxe-table-column",{attrs:{field:"name","min-width":"150",title:t.$t("m.Contest_Award_Name"),"edit-render":{name:"input",attrs:{type:"text"}}}}),n("vxe-table-column",{attrs:{field:"background","min-width":"150",title:t.$t("m.Contest_Award_Background")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-color-picker",{attrs:{size:"small"},model:{value:a.background,callback:function(e){t.$set(a,"background",e)},expression:"row.background"}})]}}],null,!1,1729143893)}),n("vxe-table-column",{attrs:{field:"color","min-width":"150",title:t.$t("m.Contest_Award_Color")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-color-picker",{attrs:{size:"small"},model:{value:a.color,callback:function(e){t.$set(a,"color",e)},expression:"row.color"}})]}}],null,!1,2777411206)}),n("vxe-table-column",{attrs:{field:"show","min-width":"150",title:t.$t("m.Contest_Award_Show")},scopedSlots:t._u([{key:"default",fn:function(t){return t=t.row,[n("RankBox",{attrs:{name:t.name,background:t.background,color:t.color,num:1}})]}}],null,!1,4169304185)}),n("vxe-table-column",{attrs:{field:"num","min-width":"150",title:1==t.contest.awardType?t.$t("m.Contest_Award_Proportion"):t.$t("m.Contest_Award_Number")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[1==t.contest.awardType?n("el-input",{attrs:{placeholder:t.$t("m.Contest_Award_Proportion"),size:"small",type:"number"},model:{value:a.num,callback:function(e){t.$set(a,"num",e)},expression:"row.num"}},[n("template",{slot:"append"},[t._v("%")])],2):n("el-input",{attrs:{placeholder:t.$t("m.Contest_Award_Number"),size:"small"},model:{value:a.num,callback:function(e){t.$set(a,"num",e)},expression:"row.num"}})]}}],null,!1,3757463838)})],1)],1):t._e()],2)],1),n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.saveContest(e)}}},[t._v(t._s(t.$t("m.Save")))])],1)],1)}),[],!1,null,"473f6df8",null);e.default=r.exports},a15b:function(t,e,n){"use strict";var a=n("23e7"),s=n("44ad"),r=n("fc6a"),o=(n=n("a640"),[].join);s=s!=Object,n=n("join",",");a({target:"Array",proto:!0,forced:s||!n},{join:function(t){return o.call(r(this),void 0===t?",":t)}})},a5a0:function(t,e,n){"use strict";n("f10a")},f10a:function(t,e,n){}}]);